# 计算机组成原理

## 计算机基本结构

### 冯诺依曼结构的要点

- **两个设计思想**
  - 计算机采用二进制
  - 通过存储器存储程序
- **五个基本组成部分**
  - 运算器，控制器
  - 存储器
  - 输入设备和输出设备

![image-20220624090743968](https://summerfoam233-image.oss-cn-beijing.aliyuncs.com/img/image-20220624090743968.png)

#### 计算机的五大组成部分 - 以Intel 4004为例

- 运算器

- 控制器

- 存储器

  冯诺依曼结构中，指令（程序）和数据**不加区分**的放在存储器中。目的是为了高效率的协同指令和数据，让计算机在工作时能**自动**的从存储器中**取出指令**加以执行。

- 输入设备

- 输出设备

![image-20220624092117644](https://summerfoam233-image.oss-cn-beijing.aliyuncs.com/img/image-20220624092117644.png)

#### 指令的执行方式

一条指令的执行流程为：

- **取指**

  根据地址去主存取得指令，并更新下一条指令。

- **译码**

  将取得的指令转换为机器码。

- **执行**

  执行指令，得到结果。

- **回写**

  将运算结果写到指定的寄存器。

### 计算机结构的简化模型（模型机）

模型机包括有：存储器、控制器、运算器

![image-20220624094052342](https://summerfoam233-image.oss-cn-beijing.aliyuncs.com/img/image-20220624094052342.png)

#### 存储器（主存）

存储器在设计时首先考虑编址方式，若为字节编址则每个存储单元一个字节（8位二进制数）

CPU通过地址总线向存储器传递地址，其能管理的存储单元个数为

![image-20220624094307336](https://summerfoam233-image.oss-cn-beijing.aliyuncs.com/img/image-20220624094307336.png)

#### CPU-控制器

CPU的控制器由IR、PC、MAR、MDR、指令译码部件和控制电路组成。

- IR

  存放正在执行或即将执行的指令

- PC

  存放下一条指令的存储单元地址，具有自增计数的功能

- MAR

  存放需要访问的存储单元的地址的寄存器

- MDR

  存放对存储单元读/写的数据的寄存器

- 译码部件

  对IR寄存器中的指令进行译码

- 控制电路

  根据指令译码产生控制信号，在时序脉冲的同步下控制各个部件的动作。

  ![image-20220624095215015](https://summerfoam233-image.oss-cn-beijing.aliyuncs.com/img/image-20220624095215015.png)

#### CPU-运算器

运算器用于算术运算和逻辑运算。

- ALU

  完成算术运算和逻辑运算的部件

- XYZ寄存器

  ALU的数据暂存器，可视为ALU的一部分。运算过程为：ALU对X和Y中的数据进行运算，然后将结果送到Z。

- F寄存器

  存放运算结果的状态（零/正负/进位/溢出）。

- 通用寄存器

  用于临时存放数据，其数据来源有可能为**存储器**，也有可能为**其他的通用寄存器**或者**ALU的输出结果**。

- 内部总线

  用于在CPU内部互相传输数据的总线。

![image-20220624095847037](https://summerfoam233-image.oss-cn-beijing.aliyuncs.com/img/image-20220624095847037.png)

### 计算机执行指令的过程

